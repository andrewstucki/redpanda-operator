---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.15.0
  name: redpandaUsers.cluster.redpanda.com
spec:
  group: cluster.redpanda.com
  names:
    kind: RedpandaUser
    listKind: RedpandaUserList
    plural: redpandaUsers
    shortNames:
    - rpu
    singular: redpandauser
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=="Ready")].message
      name: Status
      type: string
    name: v1alpha2
    schema:
      openAPIV3Schema:
        description: Redpanda defines the CRD for Redpanda user.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Defines the desired state of the Redpanda user.
            properties:
              authentication:
                description: |-
                  Authentication defines the authentication information for a user.
                  If authentication is not configured, no credentials are generated.
                properties:
                  type:
                    description: 'one of: scram-sha-512, tls, or tls-external'
                    type: string
                type: object
              authorization:
                description: Authorization rules defined for this user.
                properties:
                  acls:
                    description: List of ACL rules which should be applied to this
                      user.
                    items:
                      description: Defines an ACL rule applied to the given user.
                      properties:
                        host:
                          description: |-
                            The host from which the action described in the ACL rule is allowed or denied.
                            If not set, it defaults to *, allowing or denying the action from any host.
                          type: string
                        operations:
                          description: |-
                            List of operations which will be allowed or denied.
                            one or more of [Read, Write, Delete, Alter, Describe, All, IdempotentWrite, ClusterAction, Create, AlterConfigs, DescribeConfigs]
                          items:
                            type: string
                          type: array
                        resource:
                          description: Indicates the resource for which given ACL
                            rule applies.
                          properties:
                            name:
                              description: |-
                                Name of resource for which given ACL rule applies.
                                Can be combined with patternType field to use prefix pattern.
                              type: string
                            patternType:
                              description: |-
                                Describes the pattern used in the resource field. The supported types are literal
                                and prefix. With literal pattern type, the resource field will be used as a definition
                                of a full topic name. With prefix pattern type, the resource name will be used only as
                                a prefix. Default value is literal.


                                one of: prefix, literal
                              type: string
                            type:
                              description: 'one of: topic, group, cluster, transactionalId'
                              type: string
                          type: object
                        type:
                          description: 'one of: allow, deny'
                          type: string
                      type: object
                    type: array
                  type:
                    description: 'one of: simple'
                    type: string
                type: object
              clusterRef:
                description: ClusterRef is a reference to the cluster where the user
                  should be created.
                properties:
                  name:
                    description: Name specifies the name of the cluster being referenced.
                    type: string
                  namespace:
                    description: |-
                      Namespace specifies namespace of the cluster being referenced. If empty, the namespace
                      of the referencing object will be used.
                    type: string
                type: object
              quotas:
                description: |-
                  Quotas on requests to control the broker resources used by clients. Network
                  bandwidth and request rate quotas can be enforced.
                properties:
                  consumerByteRate:
                    description: |-
                      A quota on the maximum bytes per-second that each client group can fetch from a broker
                      before the clients in the group are throttled. Defined on a per-broker basis.
                    type: integer
                  controllerMutationRate:
                    description: |-
                      A quota on the rate at which mutations are accepted for the create topics request, the create
                      partitions request and the delete topics request. The rate is accumulated by the number of partitions
                      created or deleted.
                    type: integer
                  producerByteRate:
                    description: |-
                      A quota on the maximum bytes per-second that each client group can publish to a broker
                      before the clients in the group are throttled. Defined on a per-broker basis.
                    type: integer
                  requestPercentage:
                    description: A quota on the maximum CPU utilization of each client
                      group as a percentage of network and I/O threads.
                    type: integer
                type: object
              template:
                description: Template to specify how user secrets are generated.
                properties:
                  secret:
                    description: |-
                      Template for RedpandaUser resources. The template allows users
                      to specify how the Secret with password or TLS certificates is generated.
                    properties:
                      metadata:
                        description: Metadata specifies additional metadata to associate
                          with a resource.
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            description: Annotations specifies the Kubernetes annotations
                              to apply to a managed resource.
                            type: object
                          labels:
                            additionalProperties:
                              type: string
                            description: Labels specifies the Kubernetes labels to
                              apply to a managed resource.
                            type: object
                        type: object
                    type: object
                type: object
            type: object
          status:
            description: Represents the current status of the Redpanda user.
            properties:
              conditions:
                description: Conditions holds the conditions for the Redpanda user.
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource.\n---\nThis struct is intended for
                    direct use as an array at the field path .status.conditions.  For
                    example,\n\n\n\ttype FooStatus struct{\n\t    // Represents the
                    observations of a foo's current state.\n\t    // Known .status.conditions.type
                    are: \"Available\", \"Progressing\", and \"Degraded\"\n\t    //
                    +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t    // +listType=map\n\t
                    \   // +listMapKey=type\n\t    Conditions []metav1.Condition `json:\"conditions,omitempty\"
                    patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                    \   // other fields\n\t}"
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: |-
                        type of condition in CamelCase or in foo.example.com/CamelCase.
                        ---
                        Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                        useful (see .node.status.conditions), the ability to deconflict is important.
                        The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              observedGeneration:
                description: Specifies the last observed generation.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
